<app-sidebar></app-sidebar>
<main class="main_content">
   <app-header></app-header>

   <div class="col-lg-12 mb-2">
      <h5 style="text-align: center;color: #cf4444;    margin-top: 15px;
      margin-bottom: 15px;">Bill Payments</h5>
   
   <div style="    margin-top: 20px;
   margin-bottom: 20px;">
     <b style=" margin-left: 90px; color: rgb(51, 13, 242);">Current UnBilled Amount:</b><b
       style="    margin-left: 10px;">{{this.unbilledamount}}</b>
    
   </div>
   
      <div class="table-responsive-sm table_all_orders" style="width: 100%; overflow-x: auto;">
         <table class="table table-bordered purchese_order_disign">
            <thead style="color: green;">
              <tr>
                <td>S:No</td>
                <th scope="col">Raised order Date</th>
                <th scope="col">Raised Amount</th>
                <th scope="col">payed Unbilled Amount</th>
              </tr>
            </thead>
            <tbody>
               <tr *ngFor="let item of getdata; let i = index" style="font-size: 12px">
                  
  

                <td>{{i + 1}}</td>
                  <td>{{ item.date}}</td>
                
                   <td>
                    <button class="btn btn-link" data-bs-toggle="modal" data-bs-target="#staticBackdropsupplier"
                      (click)="amounthis(item._id)" >
                      {{item.raised_Amt}}
                    </button>
                  </td><td>{{item.paidAmount !=null?item.paidAmount:""}} <b style="color:red;" *ngIf="item.paidAmount == null"> nil </b></td>

                  <!-- <td>{{item.paidAmount}}</td> -->
                  <!-- <td>
                     <button class="btn btn-link" data-bs-toggle="modal" data-bs-target="#staticBackdropsupplier"
                       (click)="amounthis(item._id)" >
                       {{item.CurrentUnBilled}}
                     </button>
                   </td> -->
                 
               
                 
               </tr>
            </tbody>
            <tbody>
              <tr *ngIf="getdata.length == 0">
                  <td colspan="9" style="text-align:center;color: #dc1c1c;">....Please Wait....</td>
              </tr>
          </tbody>
         </table>
      </div>
   
   
      <!-- <div style="display: flex; justify-content: right; align-items: center">
         <ul class="pagination justify-content-end pageination">
           <li style="font-size: 12px; padding: 8px 11px; font-weight: bold">
            {{ pagetotal + "/" + totalcount }}
           </li>
           <li class="page-item">
            <button [disabled]="displaycount == 0 || pagetotal == 0" ngClass="{{
               displaycount == 0 || pagetotal == 0 ? 'disabeld' : 'active'
              }}" class="page-link" (click)="pagination(3)">
              <i class="fa fa-angle-double-left"></i>
            </button>
           </li>
           <li class="page-item">
            <button [disabled]="displaycount == 0 || pagetotal == 0" ngClass="{{
               displaycount == 0 || pagetotal == 0 ? 'disabeld' : 'active'
              }}" class="page-link" (click)="pagination(0)">
              <i class="fa fa-angle-left"></i>
            </button>
           </li>
           <li class="page-item">
            <button class="btn btn-primary">{{ page + 1 }}</button>
           </li>
           <li class="page-item">
            <button [disabled]="pagetotal - 1 == displaycount || pagetotal == 0" ngClass="{{
               pagetotal - 1 == displaycount || pagetotal == 0
                 ? 'disabeld'
                 : 'active'
              }}" class="page-link" (click)="pagination(1)">
              <i class="fa fa-angle-right"></i>
            </button>
           </li>
           <li class="page-item">
            <button [disabled]="pagetotal - 1 == displaycount || pagetotal == 0" ngClass="{{
               pagetotal - 1 == displaycount || pagetotal == 0
                 ? 'disabeld'
                 : 'active'
              }}" class="page-link" (click)="pagination(2)">
              <i class="fa fa-angle-double-right"></i>
            </button>
           </li>
         </ul>
        </div> -->


        <div class="modal fade" id="staticBackdropsupplier" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
             <h4 style="margin-left:40%;color: rgb(161, 19, 19);">History</h4>
               
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

              <table class="table table-bordered purchese_order_disign">
                <thead style="color: rgb(161, 19, 19);">
   
                  <tr>
                    <th scope="col">Paid Date</th>
                    <th scope="col">Payment Mode</th>
                    <th scope="col">Paid Amount</th>

                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let getOrder of amountdata; let i = index">
                    <td>{{getOrder.date}}</td>
                    <td >{{getOrder.pay_method}}</td>
                    <td >{{getOrder.un_Billed_amt}}</td>
                  
                  </tr>
                </tbody>
              </table>
   
            </div>
          </div>
        </div>
      </div>
   </div>
   <app-footer></app-footer>
</main>